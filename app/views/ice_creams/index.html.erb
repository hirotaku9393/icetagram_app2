<h1 class="pt-10 font-kiwi text-4xl text-black-600 text-center" >
    みんなの推しあいす
</h1>
<div class="flex justify-center pt-6 font-kiwi ">
    <%= render 'search', q: @q, url: ice_creams_path %>
</div>
<div class="pt-10 flex justify-center mt-4">
    <% @tags.each do |tag| %>
        <%= link_to tag.name, ice_creams_path(tag_id: tag.id), class: 'bg-amber-200 hover:bg-amber-300 text-amber-800 text-xs sm:text-sm font-kiwi py-1 px-3 rounded-full mr-2' %>
    <% end %>
</div>


<div class="mx-auto max-w-7xl px-4">
    <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2 mt-6 items-stretch">
        <% @ice_creams.each do |ice_cream| %>
            <div class="bg-white shadow-md rounded-lg p-4 flex flex-col h-full min-h-0">
                <%= link_to ice_cream.name, ice_cream_path(ice_cream), class: 'font-kiwi hover:text-gray-500' %>
                <% if ice_cream.user.present? %>
                    <div class="flex items-center gap-2 pt-5">
                        <iconify-icon icon="mdi:user" width="24" height="24"></iconify-icon>
                        <h2 class="text-md font-kiwi "> <%= ice_cream.user.name %> </h2>
                    </div>
                <% end %>
                <div class="mt-2">
                    <p class="text-gray-500 font-kiwi mb-2 text-sm">タグ:</p>
                    <%= render 'tag', ice_cream: ice_cream %>
                </div>
                <div class="mt-2 flex justify-center">
                    <% if ice_cream.image.attached? %>
                        <div class="w-40 aspect-[16/9] flex items-center justify-center">
                            <%= image_tag ice_cream.image, loading: "lazy", class: 'max-h-full max-w-full object-contain' %>
                        </div>
                    <% else %>  
                            <p class="text-gray-500">画像がまだありません</p>
                    <% end %>
                </div>
                <div class="pt-4 flex justify-center mt-auto">
                    <%= render 'favorite_button', ice_cream: ice_cream%>
                </div>
            </div>
        <% end %>
    </div>
</div>

<div class="pt-10 px-4 flex justify-center font-kiwi gap-10 mt-6">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6 w-full max-w-6xl">
        <%= link_to new_ice_cream_path, class: "bg-stone-300 hover:bg-stone-400 text-stone-800 font-bold py-2 px-4 rounded flex items-center justify-center gap-2 " do %>
            <iconify-icon icon="twemoji:ice-cream" width="36" height="36"></iconify-icon>
            <span>あなたの推しあいすを追加</span>
        <% end %>
        <%= link_to favorites_ice_creams_path, class: "bg-stone-300 hover:bg-stone-400 text-stone-800 font-bold py-2 px-4 rounded flex items-center justify-center gap-2 " do %>
            <iconify-icon icon="twemoji:ice-cream" width="36" height="36"></iconify-icon>
            <span>食べてみたい‼一覧へ</span>
        <% end %>
        <%= link_to gotouchi_ice_creams_path, class: "bg-stone-300 hover:bg-stone-400 text-stone-800 font-bold py-2 px-4 rounded flex items-center justify-center gap-2 " do %>
            <iconify-icon icon="twemoji:ice-cream" width="36" height="36"></iconify-icon>
            <span>ご当地あいす一覧へ</span>
        <% end %>
    </div>
</div>


<div class="flex flex-wrap gap-2 justify-center mt-6">
    <%= paginate @ice_creams %>
</div>
